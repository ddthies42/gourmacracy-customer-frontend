<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cart</title>
    <meta name="author" content="Gourmacracy">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="stylesheets/cart-1.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="stylesheets/style.css">

</head>
<body>
<section class="gourmacracy-main-container">
    <div class="container py-5">
        <div class="row d-flex justify-content-center my-4">
            <div class="col-md-8">
                <div class="card mb-4">
                    <div class="card-header py-3">
                        <h5 class="mb-0">Cart - 2 items</h5>
                    </div>
                    <div class="card-body">
                        <!-- Pad Thai -->
                        <div class="row">
                            <div class="col-lg-3 col-md-12 mb-4 mb-lg-0">
                                <!-- Image -->
                                <div class="bg-image hover-overlay hover-zoom ripple rounded" data-mdb-ripple-color="light">
                                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/39/Phat_Thai_kung_Chang_Khien_street_stall.jpg/1200px-Phat_Thai_kung_Chang_Khien_street_stall.jpg"
                                         class="w-100" alt="Pad Thai" height="210"/>
                                    <a href="#!">
                                        <div class="mask" style="background-color: rgba(251, 251, 251, 0.2)"></div>
                                    </a>
                                </div>
                                <!-- Image -->
                            </div>

                            <div class="col-lg-5 col-md-6 mb-4 mb-lg-0">
                                <!-- Data -->
                                <p><strong>Pad Thai</strong></p>
                                <p>Choice of Meat: Chicken</p>
                                <p>Note: No Peanuts</p>
                                <!-- Data -->
                            </div>

                            <div class="col-lg-4 col-md-6 mb-4 mb-lg-0 product-1">
                                <!-- Quantity -->
                                <div class="d-flex mb-4 product-quantity-1" style="max-width: 300px">
                                    <input id="form-1" min="1" name="quantity" value="1" type="number" class="form-control" />
<!--                                    <button class="btn btn-primary px-3 me-2"-->
<!--                                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">-->
<!--                                        <i class="fa fa-minus" style="font-size:18px"></i>-->
<!--                                    </button>-->

<!--                                    <div class="form-outline product-quantity-1">-->
<!--                                        <input id="form-1" min="1" name="quantity" value="1" type="number" class="form-control" />-->
<!--&lt;!&ndash;                                        <label class="form-label" for="form1">Quantity</label>&ndash;&gt;-->
<!--                                    </div>-->

<!--                                    <button class="btn btn-primary px-3 ms-2"-->
<!--                                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">-->
<!--                                        <i class="fa fa-plus" style="font-size:18px"></i>-->
<!--                                    </button>-->
                                </div>
                                <!-- Quantity -->

                                <!-- Price -->
                                <div class="text-start text-md-center product-price-1">
                                    <strong>12.99</strong>
                                </div>
                                <div class="product-line-price-1">12.99</div>
                                <!-- Price -->
                                <!-- Remove items -->
                                <div class="product-removal-1">
                                    <button type="button" class="btn btn-primary btn-sm me-1 mb-2" data-mdb-toggle="tooltip"
                                            title="Remove item">
                                        <i class="fa fa-trash-o" style="font-size:24px"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Pad Thai -->

                        <hr class="my-4" />

                        <!-- Tom Yum -->
                        <div class="row">
                            <div class="col-lg-3 col-md-12 mb-4 mb-lg-0">
                                <!-- Image -->
                                <div class="bg-image hover-overlay hover-zoom ripple rounded" data-mdb-ripple-color="light">
                                    <img src="https://www.recipetineats.com/wp-content/uploads/2019/09/Tom-Yum-soup_2.jpg" alt="Tom Yum"
                                         class="w-100" height="210"/>
                                    <a href="#!">
                                        <div class="mask" style="background-color: rgba(251, 251, 251, 0.2)"></div>
                                    </a>
                                </div>
                                <!-- Image -->
                            </div>

                            <div class="col-lg-5 col-md-6 mb-4 mb-lg-0">
                                <!-- Data -->
                                <p><strong>Tom Yum Soup</strong></p>
                                <p>Choice of Meat: Seafood</p>
                            </div>

                            <div class="col-lg-4 col-md-6 mb-4 mb-lg-0 product-1">
                                <!-- Quantity -->
                                <div class="d-flex mb-4 product-quantity-1" style="max-width: 300px">
<!--                                    <button class="btn btn-primary px-3 me-2"-->
<!--                                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">-->
<!--                                        <i class="fa fa-minus" style="font-size:18px"></i>-->
<!--                                    </button>-->
                                    <input id="form1" min="1" name="quantity" value="1" type="number" class="form-control" />
<!--                                    <div class="form-outline">-->
<!--                                        <input id="form1" min="1" name="quantity" value="1" type="number" class="form-control" />-->
<!--&lt;!&ndash;                                        <label class="form-label" for="form1">Quantity</label>&ndash;&gt;-->
<!--                                    </div>-->

<!--                                    <button class="btn btn-primary px-3 ms-2"-->
<!--                                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">-->
<!--                                        <i class="fa fa-plus" style="font-size:18px"></i>-->
<!--                                    </button>-->
                                </div>
                                <!-- Quantity -->

                                <!-- Price -->
                                <p class="text-start text-md-center product-price-1">
                                    <strong>12.99</strong>
                                </p>
                                <div class="product-line-price-1">12.99</div>
                                <!-- Price -->
                                <div class="product-removal-1">
                                    <button type="button" class="btn btn-primary btn-sm me-1 mb-2 remove-product" data-mdb-toggle="tooltip"
                                            title="Remove item">
                                        <i class="fa fa-trash-o" style="font-size:24px"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <!-- Tom yum -->
                    </div>
                </div>
                <div class="card mb-4">
                    <div class="card-body">
                        <p><strong>Expected wait time</strong></p>
                        <p class="mb-0">~10 minutes</p>
                    </div>
                </div>
                <div class="card mb-4 mb-lg-0">
                    <div class="card-body">
                        <p><strong>We accept</strong></p>
                        <img class="me-2" width="45px"
                             src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/visa.svg"
                             alt="Visa" />
                        <img class="me-2" width="45px"
                             src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/amex.svg"
                             alt="American Express" />
                        <img class="me-2" width="45px"
                             src="https://mdbcdn.b-cdn.net/wp-content/plugins/woocommerce-gateway-stripe/assets/images/mastercard.svg"
                             alt="Mastercard" />
                    </div>
                </div>
            </div>

            <!-- Total Calculation -->
            <div class="col-md-4">
                <div class="card mb-4">
                    <div class="card-header py-3">
                        <h5 class="mb-0">Summary</h5>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li
                                    class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                                Subtotal
                                <div class="totals-value-1" id="cart-subtotal-1">25.98</div>
                            </li>
                            <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                                Tax
                                <div class="totals-value-1" id="cart-tax-1">2.66</div>
                            </li>
                            <li
                                    class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                                <div>
                                    <strong>Total amount</strong>
                                    <strong>
                                        <p class="mb-0">(including Tax)</p>
                                    </strong>
                                </div>
                                <div class="totals-value-1" id="cart-total-1"><strong>28.64</strong></div>
                            </li>
                        </ul>

                        <button type="button" class="btn btn-primary btn-lg btn-block checkout-1">
                            Go to checkout
                        </button>
<!--                        <div class="totals">-->
<!--                            <div class="totals-item">-->
<!--                                <label>Subtotal</label>-->
<!--                                <div class="totals-value-1" id="cart-subtotal-1">25.98</div>-->
<!--                            </div>-->
<!--                            <div class="totals-item">-->
<!--                                <label>Tax (10.25%)</label>-->
<!--                                <div class="totals-value-1" id="cart-tax-1">2.66</div>-->
<!--                            </div>-->
<!--                            <div class="totals-item">-->
<!--                                <div class="totals-item totals-item-total">-->
<!--                                    <label>Total</label>-->
<!--                                    <div class="totals-value-1" id="cart-total-1">28.64</div>-->
<!--                                </div>-->
<!--                            </div>-->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Total Calculation -->

        </div>
    </div>
</section>

<!-- nav-bar -->
<nav class="gourmacracy-nav-bar">
    <ul>
        <li style="float: left">
            <a href="index.html">
                <img src="images/gourmacracy-logo.svg" alt="logo" width="150">
            </a>
        </li>
        <li style="margin-top: 15px"><a href="registration.html"><i class="bi bi-person-circle"></i>&emsp;Sign Up</a></li>
        <li style="margin-top: 15px"><a href="signin.html"><i class="bi bi-box-arrow-in-right"></i>&emsp;Sign In</a></li>
    </ul>
</nav>
<!-- nav-bar -->
<script>
    /* Set rates + misc */
    var taxRate = 0.1025;
    var fadeTime = 300;


    /* Assign actions */
    $('.product-quantity-1 input').change( function() {
        updateQuantity(this);
    });

    $('.product-removal-1 button').click( function() {
        removeItem(this);
    });


    /* Recalculate cart */
    function recalculateCart()
    {
        var subtotal = 0;

        /* Sum up row totals */
        $('.product-1').each(function () {
            subtotal += parseFloat($(this).children('.product-line-price-1').text());
        });

        /* Calculate totals */
        var tax = subtotal * taxRate;
        var total = subtotal + tax;

        /* Update totals display */
        $('.totals-value-1').fadeOut(fadeTime, function() {
            $('#cart-subtotal-1').html(subtotal.toFixed(2));
            $('#cart-tax-1').html(tax.toFixed(2));
            $('#cart-total-1').html(total.toFixed(2));
            if(total == 0){
                $('.checkout-1').fadeOut(fadeTime);
            }else{
                $('.checkout-1').fadeIn(fadeTime);
            }
            $('.totals-value-1').fadeIn(fadeTime);
        });
    }


    /* Update quantity */
    function updateQuantity(quantityInput)
    {
        /* Calculate line price */
        var productRow = $(quantityInput).parent().parent();
        var price = parseFloat(productRow.children('.product-price-1').text());
        var quantity = $(quantityInput).val();
        var linePrice = price * quantity;

        /* Update line price display and recalc cart totals */
        productRow.children('.product-line-price-1').each(function () {
            $(this).fadeOut(fadeTime, function() {
                $(this).text(linePrice.toFixed(2));
                recalculateCart();
                $(this).fadeIn(fadeTime);
            });
        });
    }


    /* Remove item from cart */
    function removeItem(removeButton)
    {
        /* Remove row from DOM and recalc cart total */
        var productRow = $(removeButton).parent().parent();
        productRow.slideUp(fadeTime, function() {
            productRow.remove();
            recalculateCart();
        });
    }
</script>
</body>
</html>