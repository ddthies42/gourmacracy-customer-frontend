<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Restaurants</title>
    <meta name="author" content="Gourmacracy">
    <link rel="shortcut icon" type="image/x-icon" href="images/gfavicon.ico"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="stylesheets/style.css">
</head>
<body>
<!-- nav-bar -->
<nav class="gourmacracy-nav-bar">
    <ul>
        <li style="float: left">
            <a href="index.html">
                <img src="images/gourmacracy-logo.svg" alt="logo" width="150">
            </a>
        </li>
        <li style="margin-top: 15px"><a href="logout.html"><i class="bi bi-box-arrow-right"></i>&emsp;Log Out</a></li>
    </ul>
</nav>
<!-- nav-bar -->

<div class="gourmacracy-main-container">
  <div class="row d-flex justify-content-center gourmacracy-past-orders-output-container" id="whole-container">
    <div class="col-xs-8 menu-item" style="width: 80%;">
      <h2 style="text-align: center; margin: 25px;">Please select a restaurant</h2>
      <div class="mb-3">
        <form>
          <select name="restaurantList" id="restaurantList" class="form-select restaurant-list" placeholder="Restaurants">
              <option value="Epic Eats" selected>Epic Eats</option>
              <option value="Food of Destiny">Food of Destiny</option>
              <option value="Great Yum!">Great Yum!</option>
              <option value="Terrific Teriyaki">Terrific Teriyaki</option>
              <option value="Victor's Noodle Spot">Victor's Noodle Spot</option>
          </select>
        </form>
      </div>
      <br/>
      <input type="button" class="gourmacracy-button checkout-btn restaurant-list" id="btnOpenRestaurantMenu" style="margin-bottom: 25px;"
      value="Open Menu" onclick="openMenu(document.forms[0].restaurantList.options[document.forms[0].restaurantList.selectedIndex].value)">
      <div class="container">
        <div class="row d-flex justify-content-center">
          <h6 class="col-md-8 jumbotron" style="display: none; background-color: #FFF7D6; border-radius: 10px; padding: 10px; margin-top: 0px; text-align: center;" id="output1"></h6>
        </div>
      </div>
    </div>
  </div>
</div>

<script>

window.addEventListener('load', (event) =>{
  let width = window.innerWidth;
  if(width > 322) {
    document.getElementById("whole-container").style = "margin-top: 100px;";
  } else {
    document.getElementById("whole-container").style = "margin-top: 170px;";
  }
});

window.addEventListener('resize', function() {
  let width = window.innerWidth;
  if(width > 322) {
    document.getElementById("whole-container").style = "margin-top: 100px;";
  } else {
    document.getElementById("whole-container").style = "margin-top: 170px;";
  }
});

    function openMenu(id) {
        console.log(id);
        if(id != "Epic Eats") {
          document.getElementById("output1").innerHTML =
              "Epic Eats is the only available restaurant at this time. Apologies for the incovenience.";
          document.getElementById("output1").style.display = 'block';
          setTimeout(function(){
              document.getElementById("output1").style.display = 'none';
          },4000);
        } else {
          let parameter = new URLSearchParams();
          parameter.append("restaurantID", id);
          location.href = "menu.html?" + parameter.toString();
        }
    }

</script>
</body>
</html>
